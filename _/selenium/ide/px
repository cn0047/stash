<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://m.localsgowild.com/" />
<title>px</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">px</td></tr>
</thead><tbody>
<tr>
	<td>echo</td>
	<td>=========== CONFIGS ===========</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>''</td>
	<td>kvAdminLogin</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>''</td>
	<td>kvAdminPass</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>''</td>
	<td>zpAdminLogin</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>''</td>
	<td>zpAdminPass</td>
</tr>
<tr>
	<td>echo</td>
	<td>=========== OPTIONS ===========</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>1</td>
	<td>count</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>1</td>
	<td>needReg</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>1</td>
	<td>needConf</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'' /* 'm.' |&nbsp;&nbsp;''&nbsp;&nbsp;*/</td>
	<td>platform</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'kv' /* kv | zp */</td>
	<td>server</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'live' /* trunk | live */</td>
	<td>environment</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'playcougar' /* localsgowild | playcougar */</td>
	<td>site</td>
</tr>
<tr>
	<td>echo</td>
	<td>=========== INIT ===========</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'${site}'+('${environment}' == 'live' ? '.com' : '.px.kovpak.trunk-front.pmmedia.com.ua')</td>
	<td>host</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'http://'+'${platform}'+'${host}'+'/?utm_source=Inner&amp;a_aid='+('${server}' == 'kv' ? 'e7f63816' : 'f5fe9afc')+'&amp;data1=JameBond&amp;data2=selenium'</td>
	<td>url</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'domain=.'+'${host}'+', recurse=true'</td>
	<td>cookie</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>1</td>
	<td>i</td>
</tr>
<tr>
	<td>label</td>
	<td>lStart</td>
	<td></td>
</tr>
<tr>
	<td>echo</td>
	<td>=========== START ===========</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>${url}</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=UserForm_location</td>
	<td></td>
</tr>
<tr>
	<td>deleteAllVisibleCookies</td>
	<td>TRACK_VISIT</td>
	<td>domain=.localsgowild.com, recurse=true</td>
</tr>
<tr>
	<td>deleteAllVisibleCookies</td>
	<td>_uuid</td>
	<td>domain=.localsgowild.com, recurse=true</td>
</tr>
<tr>
	<td>gotoIf</td>
	<td>storedVars['platform']=='' &amp;&amp; storedVars['needReg']</td>
	<td>lWebReg</td>
</tr>
<tr>
	<td>label</td>
	<td>lExitReg</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>1</td>
	<td>i</td>
</tr>
<tr>
	<td>gotoIf</td>
	<td>storedVars['needConf']</td>
	<td>lConf</td>
</tr>
<tr>
	<td>label</td>
	<td>lExitConf</td>
	<td></td>
</tr>
<tr>
	<td>goto</td>
	<td>lExit</td>
	<td></td>
</tr>
<tr>
	<td>label</td>
	<td>lWebReg</td>
	<td></td>
</tr>
<tr>
	<td>echo</td>
	<td>=========== WEB REG ===========</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=UserForm_location</td>
	<td>England, London, W1H 2, Seymour Place</td>
</tr>
<tr>
	<td>click</td>
	<td>link=Next</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>xpath=(//a[contains(text(),'Next')])[2]</td>
	<td>Next</td>
</tr>
<tr>
	<td>select</td>
	<td>id=UserForm_day</td>
	<td>label=01</td>
</tr>
<tr>
	<td>select</td>
	<td>id=UserForm_month</td>
	<td>label=January</td>
</tr>
<tr>
	<td>select</td>
	<td>id=UserForm_year</td>
	<td>label=1996</td>
</tr>
<tr>
	<td>click</td>
	<td>xpath=(//a[contains(text(),'Next')])[2]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=submit-button</td>
	<td>Start now!</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>new Date().getTime()</td>
	<td>time</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>'codenamek2010+'+${time}+'@gmail.com'</td>
	<td>javascript{'email'+storedVars['i']}</td>
</tr>
<tr>
	<td>type</td>
	<td>id=UserForm_email</td>
	<td>javascript{storedVars['email'+storedVars['i']]}</td>
</tr>
<tr>
	<td>type</td>
	<td>id=UserForm_password</td>
	<td>UserFormpassword</td>
</tr>
<tr>
	<td>click</td>
	<td>id=submit-button</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=known-domain</td>
	<td>Check your email</td>
</tr>
<tr>
	<td>storeEval</td>
	<td>${i}+1</td>
	<td>i</td>
</tr>
<tr>
	<td>gotoIf</td>
	<td>${i}&lt;=${count}</td>
	<td>lStart</td>
</tr>
<tr>
	<td>goto</td>
	<td>lExitReg</td>
	<td></td>
</tr>
<tr>
	<td>label</td>
	<td>lConf</td>
	<td></td>
</tr>
<tr>
	<td>echo</td>
	<td>=========== CONF ===========</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>javascript{'http://'+storedVars['site']+'.com/admin/user/find'}</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>if (selenium.isElementPresent('id=FindUserForm_user')) {needLogInAdmin=0}</td>
	<td>needLogInAdmin</td>
</tr>
<tr>
	<td>gotoIf</td>
	<td>${needLogInAdmin}==0</td>
	<td>lAfterLogInAdmin</td>
</tr>
<tr>
	<td>type</td>
	<td>id=AdminLoginForm_login</td>
	<td>javascript{storedVars[storedVars['server']+'AdminLogin']}</td>
</tr>
<tr>
	<td>type</td>
	<td>id=AdminLoginForm_password</td>
	<td>javascript{storedVars[storedVars['server']+'AdminPass']}</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=yt0</td>
	<td></td>
</tr>
<tr>
	<td>label</td>
	<td>lAfterLogInAdmin</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=FindUserForm_user</td>
	<td>javascript{storedVars['email'+storedVars['i']]}</td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>name=yt0</td>
	<td></td>
</tr>
<tr>
	<td>clickAndWait</td>
	<td>//div[@id='main-layout']/div/div/div[2]/div[4]/h5/a</td>
	<td></td>
</tr>
<tr>
	<td>assertText</td>
	<td>id=funnel-form-button-next-step</td>
	<td></td>
</tr>
<tr>
	<td>storeEval</td>
	<td>${i}+1</td>
	<td>i</td>
</tr>
<tr>
	<td>gotoIf</td>
	<td>${i}&lt;=${count}</td>
	<td>lConf</td>
</tr>
<tr>
	<td>goto</td>
	<td>lExitConf</td>
	<td></td>
</tr>
<tr>
	<td>label</td>
	<td>lExit</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
